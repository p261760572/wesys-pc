!function($){function _1(e){e._remove()}function _3(e,n){var o=$.data(e,"panel"),a=o.options,t=o.panel,i=t.children(".panel-header"),l=t.children(".panel-body"),r=t.children(".panel-footer"),d="left"==a.halign||"right"==a.halign;if(n&&$.extend(a,{width:n.width,height:n.height,minWidth:n.minWidth,maxWidth:n.maxWidth,minHeight:n.minHeight,maxHeight:n.maxHeight,left:n.left,top:n.top}),t._size(a),d||i._outerWidth(t.width()),l._outerWidth(t.width()),isNaN(parseInt(a.height))){l.css("height","");var s=$.parser.parseValue("minHeight",a.minHeight,t.parent()),c=$.parser.parseValue("maxHeight",a.maxHeight,t.parent()),p=i._outerHeight()+r._outerHeight()+t._outerHeight()-t.height();l._size("minHeight",s?s-p:""),l._size("maxHeight",c?c-p:"")}else if(d){if(a.header)var h=$(a.header)._outerWidth();else{i.css("width","");var h=i._outerWidth()}var f=i.find(".panel-title");h+=Math.min(f._outerWidth(),f._outerHeight());var u=t.height();i._outerWidth(h)._outerHeight(u),f._outerWidth(i.height()),l._outerWidth(t.width()-h-r._outerWidth())._outerHeight(u),r._outerHeight(u),l.css({left:"",right:""}).css(a.halign,i.position()[a.halign]+h+"px"),a.panelCssWidth=t.css("width"),a.collapsed&&t._outerWidth(h+r._outerWidth())}else l._outerHeight(t.height()-i._outerHeight()-r._outerHeight());t.css({height:d?void 0:"",minHeight:"",maxHeight:"",left:a.left,top:a.top}),a.onResize.apply(e,[a.width,a.height]),$(e).panel("doLayout")}function _11(e,n){var o=$.data(e,"panel"),a=o.options,t=o.panel;n&&(null!=n.left&&(a.left=n.left),null!=n.top&&(a.top=n.top)),t.css({left:a.left,top:a.top}),t.find(".tooltip-f").each(function(){$(this).tooltip("reposition")}),a.onMove.apply(e,[a.left,a.top])}function _17(e){$(e).addClass("panel-body")._size("clear");var n=$('<div class="panel"></div>').insertBefore(e);return n[0].appendChild(e),n.bind("_resize",function(n,o){return($(this).hasClass("easyui-fluid")||o)&&_3(e),!1}),n}function _1b(_1c){function _20(){if(_1e.noheader||!_1e.title&&!_1e.header)_1(_1f.children(".panel-header")),_1f.children(".panel-body").addClass("panel-body-noheader");else{if(_1e.header)$(_1e.header).addClass("panel-header").prependTo(_1f);else{var _25=_1f.children(".panel-header");_25.length||(_25=$('<div class="panel-header"></div>').prependTo(_1f)),$.isArray(_1e.tools)||_25.find("div.panel-tool .panel-tool-a").appendTo(_1e.tools),_25.empty();var _26=$('<div class="panel-title"></div>').html(_1e.title).appendTo(_25);_1e.iconCls&&(_26.addClass("panel-with-icon"),$('<div class="panel-icon"></div>').addClass(_1e.iconCls).appendTo(_25)),"left"!=_1e.halign&&"right"!=_1e.halign||_26.addClass("panel-title-"+_1e.titleDirection);var _27=$('<div class="panel-tool"></div>').appendTo(_25);_27.bind("click",function(e){e.stopPropagation()}),_1e.tools&&($.isArray(_1e.tools)?$.map(_1e.tools,function(t){_28(_27,t.iconCls,eval(t.handler))}):$(_1e.tools).children().each(function(){$(this).addClass($(this).attr("iconCls")).addClass("panel-tool-a").appendTo(_27)})),_1e.collapsible&&_28(_27,"panel-tool-collapse",function(){1==_1e.collapsed?_52(_1c,!0):_3e(_1c,!0)}),_1e.minimizable&&_28(_27,"panel-tool-min",function(){_5d(_1c)}),_1e.maximizable&&_28(_27,"panel-tool-max",function(){1==_1e.maximized?_61(_1c):_3d(_1c)}),_1e.closable&&_28(_27,"panel-tool-close",function(){_3f(_1c)})}_1f.children("div.panel-body").removeClass("panel-body-noheader")}}function _28(e,n,o){$('<a href="javascript:;"></a>').addClass(n).appendTo(e).bind("click",o)}function _21(){_1e.footer?($(_1e.footer).addClass("panel-footer").appendTo(_1f),$(_1c).addClass("panel-body-nobottom")):(_1f.children(".panel-footer").remove(),$(_1c).removeClass("panel-body-nobottom"))}var _1d=$.data(_1c,"panel"),_1e=_1d.options,_1f=_1d.panel;_1f.css(_1e.style),_1f.addClass(_1e.cls),_1f.removeClass("panel-hleft panel-hright").addClass("panel-h"+_1e.halign),_20(),_21();var _22=$(_1c).panel("header"),_23=$(_1c).panel("body"),_24=$(_1c).siblings(".panel-footer");_1e.border?(_22.removeClass("panel-header-noborder"),_23.removeClass("panel-body-noborder"),_24.removeClass("panel-footer-noborder")):(_22.addClass("panel-header-noborder"),_23.addClass("panel-body-noborder"),_24.addClass("panel-footer-noborder")),_22.addClass(_1e.headerCls),_23.addClass(_1e.bodyCls),$(_1c).attr("id",_1e.id||""),_1e.content&&($(_1c).panel("clear"),$(_1c).html(_1e.content),$.parser.parse($(_1c)))}function _2b(e,n){var o=$.data(e,"panel"),a=o.options;if(t&&(a.queryParams=n),a.href&&(!o.isLoaded||!a.cache)){var t=$.extend({},a.queryParams);if(0==a.onBeforeLoad.call(e,t))return;o.isLoaded=!1,a.loadingMessage&&($(e).panel("clear"),$(e).html($('<div class="panel-loading"></div>').html(a.loadingMessage))),a.loader.call(e,t,function(n){var t=a.extractor.call(e,n);$(e).panel("clear"),$(e).html(t),$.parser.parse($(e)),a.onLoad.apply(e,arguments),o.isLoaded=!0},function(){a.onLoadError.apply(e,arguments)})}}function _33(e){var n=$(e);n.find(".combo-f").each(function(){$(this).combo("destroy")}),n.find(".m-btn").each(function(){$(this).menubutton("destroy")}),n.find(".s-btn").each(function(){$(this).splitbutton("destroy")}),n.find(".tooltip-f").each(function(){$(this).tooltip("destroy")}),n.children("div").each(function(){$(this)._size("unfit")}),n.empty()}function _35(e){$(e).panel("doLayout",!0)}function _37(e,n){function o(){a.closed=!1,a.minimized=!1,t.children(".panel-header").find("a.panel-tool-restore").length&&(a.maximized=!0),a.onOpen.call(e),1==a.maximized&&(a.maximized=!1,_3d(e)),1==a.collapsed&&(a.collapsed=!1,_3e(e)),a.collapsed||(_2b(e),_35(e))}var a=$.data(e,"panel").options,t=$.data(e,"panel").panel;if(1==n||0!=a.onBeforeOpen.call(e))if(t.stop(!0,!0),$.isFunction(a.openAnimation))a.openAnimation.call(e,o);else switch(a.openAnimation){case"slide":t.slideDown(a.openDuration,o);break;case"fade":t.fadeIn(a.openDuration,o);break;case"show":t.show(a.openDuration,o);break;default:t.show(),o()}}function _3f(e,n){function o(){t.closed=!0,t.onClose.call(e)}var a=$.data(e,"panel"),t=a.options,i=a.panel;if(1==n||0!=t.onBeforeClose.call(e))if(i.find(".tooltip-f").each(function(){$(this).tooltip("hide")}),i.stop(!0,!0),i._size("unfit"),$.isFunction(t.closeAnimation))t.closeAnimation.call(e,o);else switch(t.closeAnimation){case"slide":i.slideUp(t.closeDuration,o);break;case"fade":i.fadeOut(t.closeDuration,o);break;case"hide":i.hide(t.closeDuration,o);break;default:i.hide(),o()}}function _45(e,n){var o=$.data(e,"panel"),a=o.options,t=o.panel;1!=n&&0==a.onBeforeDestroy.call(e)||($(e).panel("clear").panel("clear","footer"),_1(t),a.onDestroy.call(e))}function _3e(e,n){function o(){i.hide(),a.collapsed=!0,a.onCollapse.call(e)}var a=$.data(e,"panel").options,t=$.data(e,"panel").panel,i=t.children(".panel-body"),l=t.children(".panel-header"),r=l.find("a.panel-tool-collapse");1!=a.collapsed&&(i.stop(!0,!0),0!=a.onBeforeCollapse.call(e)&&(r.addClass("panel-tool-expand"),1==n?"left"==a.halign||"right"==a.halign?t.animate({width:l._outerWidth()+t.children(".panel-footer")._outerWidth()},function(){o()}):i.slideUp("normal",function(){o()}):("left"!=a.halign&&"right"!=a.halign||t._outerWidth(l._outerWidth()+t.children(".panel-footer")._outerWidth()),o())))}function _52(e,n){function o(){i.show(),a.collapsed=!1,a.onExpand.call(e),_2b(e),_35(e)}var a=$.data(e,"panel").options,t=$.data(e,"panel").panel,i=t.children(".panel-body"),l=t.children(".panel-header").find("a.panel-tool-collapse");0!=a.collapsed&&(i.stop(!0,!0),0!=a.onBeforeExpand.call(e)&&(l.removeClass("panel-tool-expand"),1==n?"left"==a.halign||"right"==a.halign?(i.show(),t.animate({width:a.panelCssWidth},function(){o()})):i.slideDown("normal",function(){o()}):("left"!=a.halign&&"right"!=a.halign||t.css("width",a.panelCssWidth),o())))}function _3d(e){var n=$.data(e,"panel").options,o=$.data(e,"panel").panel,a=o.children(".panel-header").find("a.panel-tool-max");1!=n.maximized&&(a.addClass("panel-tool-restore"),$.data(e,"panel").original||($.data(e,"panel").original={width:n.width,height:n.height,left:n.left,top:n.top,fit:n.fit}),n.left=0,n.top=0,n.fit=!0,_3(e),n.minimized=!1,n.maximized=!0,n.onMaximize.call(e))}function _5d(e){var n=$.data(e,"panel").options,o=$.data(e,"panel").panel;o._size("unfit"),o.hide(),n.minimized=!0,n.maximized=!1,n.onMinimize.call(e)}function _61(e){var n=$.data(e,"panel").options,o=$.data(e,"panel").panel,a=o.children(".panel-header").find("a.panel-tool-max");0!=n.maximized&&(o.show(),a.removeClass("panel-tool-restore"),$.extend(n,$.data(e,"panel").original),_3(e),n.minimized=!1,n.maximized=!1,$.data(e,"panel").original=null,n.onRestore.call(e))}function _66(e,n){$.data(e,"panel").options.title=n,$(e).panel("header").find("div.panel-title").html(n)}$.fn._remove=function(){return this.each(function(){$(this).remove();try{this.outerHTML=""}catch(e){}})};var _69=null;$(window).unbind(".panel").bind("resize.panel",function(){_69&&clearTimeout(_69),_69=setTimeout(function(){var e=$("body.layout");e.length?(e.layout("resize"),$("body").children(".easyui-fluid:visible").each(function(){$(this).triggerHandler("_resize")})):$("body").panel("doLayout"),_69=null},100)}),$.fn.panel=function(e,n){return"string"==typeof e?$.fn.panel.methods[e](this,n):(e=e||{},this.each(function(){var n,o=$.data(this,"panel");o?(n=$.extend(o.options,e),o.isLoaded=!1):(n=$.extend({},$.fn.panel.defaults,$.fn.panel.parseOptions(this),e),$(this).attr("title",""),o=$.data(this,"panel",{options:n,panel:_17(this),isLoaded:!1})),_1b(this),$(this).show(),1==n.doSize&&(o.panel.css("display","block"),_3(this)),1==n.closed||1==n.minimized?o.panel.hide():_37(this)}))},$.fn.panel.methods={options:function(e){return $.data(e[0],"panel").options},panel:function(e){return $.data(e[0],"panel").panel},header:function(e){return $.data(e[0],"panel").panel.children(".panel-header")},footer:function(e){return e.panel("panel").children(".panel-footer")},body:function(e){return $.data(e[0],"panel").panel.children(".panel-body")},setTitle:function(e,n){return e.each(function(){_66(this,n)})},open:function(e,n){return e.each(function(){_37(this,n)})},close:function(e,n){return e.each(function(){_3f(this,n)})},destroy:function(e,n){return e.each(function(){_45(this,n)})},clear:function(e,n){return e.each(function(){_33("footer"==n?$(this).panel("footer"):this)})},refresh:function(e,n){return e.each(function(){var e=$.data(this,"panel");e.isLoaded=!1,n&&("string"==typeof n?e.options.href=n:e.options.queryParams=n),_2b(this)})},resize:function(e,n){return e.each(function(){_3(this,n)})},doLayout:function(e,n){return e.each(function(){function e(e,o){if(e){var a=e==$("body")[0];$(e).find("div.panel:visible,div.accordion:visible,div.tabs-container:visible,div.layout:visible,.easyui-fluid:visible").filter(function(n,t){var i=$(t).parents(".panel-"+o+":first");return a?0==i.length:i[0]==e}).each(function(){$(this).triggerHandler("_resize",[n||!1])})}}e(this,"body"),e($(this).siblings(".panel-footer")[0],"footer")})},move:function(e,n){return e.each(function(){_11(this,n)})},maximize:function(e){return e.each(function(){_3d(this)})},minimize:function(e){return e.each(function(){_5d(this)})},restore:function(e){return e.each(function(){_61(this)})},collapse:function(e,n){return e.each(function(){_3e(this,n)})},expand:function(e,n){return e.each(function(){_52(this,n)})}},$.fn.panel.parseOptions=function(e){var n=$(e),o=n.children(".panel-header,header"),a=n.children(".panel-footer,footer");return $.extend({},$.parser.parseOptions(e,["id","width","height","left","top","title","iconCls","cls","headerCls","bodyCls","tools","href","method","header","footer","halign","titleDirection",{cache:"boolean",fit:"boolean",border:"boolean",noheader:"boolean"},{collapsible:"boolean",minimizable:"boolean",maximizable:"boolean"},{closable:"boolean",collapsed:"boolean",minimized:"boolean",maximized:"boolean",closed:"boolean"},"openAnimation","closeAnimation",{openDuration:"number",closeDuration:"number"}]),{loadingMessage:void 0!=n.attr("loadingMessage")?n.attr("loadingMessage"):void 0,header:o.length?o.removeClass("panel-header"):void 0,footer:a.length?a.removeClass("panel-footer"):void 0})},$.fn.panel.defaults={id:null,title:null,iconCls:null,width:"auto",height:"auto",left:null,top:null,cls:null,headerCls:null,bodyCls:null,style:{},href:null,cache:!0,fit:!1,border:!0,doSize:!0,noheader:!1,content:null,halign:"top",titleDirection:"down",collapsible:!1,minimizable:!1,maximizable:!1,closable:!1,collapsed:!1,minimized:!1,maximized:!1,closed:!1,openAnimation:!1,openDuration:400,closeAnimation:!1,closeDuration:400,tools:null,footer:null,header:null,queryParams:{},method:"get",href:null,loadingMessage:"Loading...",loader:function(e,n,o){var a=$(this).panel("options");if(!a.href)return!1;$.ajax({type:a.method,url:a.href,cache:!1,data:e,dataType:"html",success:function(e){n(e)},error:function(){o.apply(this,arguments)}})},extractor:function(e){var n=/<body[^>]*>((.|[\n\r])*)<\/body>/im,o=n.exec(e);return o?o[1]:e},onBeforeLoad:function(e){},onLoad:function(){},onLoadError:function(){},onBeforeOpen:function(){},onOpen:function(){},onBeforeClose:function(){},onClose:function(){},onBeforeDestroy:function(){},onDestroy:function(){},onResize:function(e,n){},onMove:function(e,n){},onMaximize:function(){},onRestore:function(){},onMinimize:function(){},onBeforeCollapse:function(){},onBeforeExpand:function(){},onCollapse:function(){},onExpand:function(){}}}(jQuery);